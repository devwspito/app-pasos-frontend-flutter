{
  "_metadata": {
    "agentType": "planning",
    "taskId": "32721b0d92fb433cc0727e19",
    "timestamp": "2026-01-25T23:28:42.737Z",
    "phase": "planning",
    "savedAt": "2026-01-25T23:28:42.737Z",
    "version": "1.0"
  },
  "data": {
    "taskTitle": "fnn12",
    "taskDescription": "Descripción de tareas para completar el frontend en Flutter\n\nCompletar los 9 epics del frontend de la aplicación \"Pasos\" (contador de pasos social) usando Flutter.\n\n================================================================================\n\nCONTEXTO\n\n================================================================================\n\nEl backend ya está completo en: project-app-pasos-backend\n\nEl frontend debe ir en: project-app-pasos-frontend-flutter (crear nueva estructura)\n\nUsar Flutter para aplicación móvil nativa multiplataforma (iOS/Android)\n\n================================================================================\n\nEPICS A IMPLEMENTAR\n\n================================================================================\n\nFLUTTER FOUNDATION\n\nSetup de Flutter + estructura del proyecto\n\nConfiguración de dependencias base (provider/bloc, dio, etc.)\n\nPLATFORM CONFIG\n\nConfiguración para iOS/Android\n\nPermisos para Health APIs (HealthKit/Google Fit)\n\nConfiguración de AndroidManifest.xml y Info.plist\n\nUI FOUNDATION\n\nSistema de diseño con Material Design 3\n\nRouting y navegación (go_router)\n\nTema oscuro/claro (ThemeData)\n\nWidgets reutilizables\n\nAUTH UI\n\nPantallas de login, registro y recuperación de contraseña\n\nGestión de estado de autenticación\n\nAlmacenamiento seguro de tokens (flutter_secure_storage)\n\nDASHBOARD\n\nVista principal con contador de pasos\n\nHistorial de actividad\n\nGráficos (fl_chart o charts_flutter)\n\nPull-to-refresh\n\nSHARING UI\n\nLista de amigos\n\nGestión de compartir datos con amigos\n\nSolicitudes de amistad\n\nVista de actividad de amigos\n\nGOALS UI\n\nGrupos y metas compartidas\n\nCreación y edición de metas\n\nProgreso de grupos\n\nRankings\n\nNATIVE INTEGRATION\n\nIntegración con podómetro nativo usando health package\n\nLectura de pasos desde HealthKit (iOS)\n\nLectura de pasos desde Google Fit/Health Connect (Android)\n\nBackground sync de datos\n\nREAL-TIME CLIENT\n\nIntegración WebSocket con web_socket_channel\n\nActualizaciones en tiempo real\n\nNotificaciones push (firebase_messaging)\n\nManejo de reconexión",
    "epicsCount": 9,
    "epics": [
      {
        "id": "epic-flutter-foundation",
        "title": "Flutter Foundation - Project Setup and Architecture",
        "description": "Establish the foundational Flutter project architecture with proper folder structure, dependency injection, and base configurations",
        "targetRepository": "app-pasos-frontend-flutter",
        "affectedRepositories": [
          "app-pasos-frontend-flutter"
        ],
        "filesToModify": [
          "lib/main.dart",
          "pubspec.yaml"
        ],
        "filesToCreate": [
          "lib/core/di/service_locator.dart",
          "lib/core/router/app_router.dart",
          "lib/core/router/routes.dart",
          "lib/core/theme/app_theme.dart",
          "lib/core/theme/app_colors.dart",
          "lib/core/theme/app_typography.dart",
          "lib/core/extensions/context_extensions.dart",
          "lib/core/extensions/string_extensions.dart",
          "lib/app.dart",
          "lib/features/README.md"
        ],
        "filesToRead": [
          "lib/core/config/app_config.dart",
          "lib/core/config/environment.dart",
          "lib/core/network/dio_client.dart"
        ],
        "estimatedComplexity": "moderate",
        "dependencies": [],
        "executionOrder": 1,
        "followsPatterns": [
          "Uses existing AppConfig pattern",
          "Extends existing core/ structure",
          "Provider-based state management as per pubspec.yaml"
        ],
        "repoType": "frontend"
      },
      {
        "id": "epic-platform-config",
        "title": "Platform Configuration - iOS and Android Health API Setup",
        "description": "Configure iOS and Android platforms for Health API access including HealthKit, Google Fit/Health Connect permissions and native configuration files",
        "targetRepository": "app-pasos-frontend-flutter",
        "affectedRepositories": [
          "app-pasos-frontend-flutter"
        ],
        "filesToModify": [
          "android/app/src/main/AndroidManifest.xml",
          "ios/Runner/Info.plist",
          "pubspec.yaml",
          "android/app/build.gradle.kts"
        ],
        "filesToCreate": [
          "ios/Runner/Runner.entitlements",
          "android/app/src/main/kotlin/com/example/app_pasos_frontend/MainActivity.kt",
          "lib/core/platform/health_permissions.dart",
          "lib/core/platform/platform_info.dart"
        ],
        "filesToRead": [
          "android/app/src/main/AndroidManifest.xml",
          "ios/Runner/Info.plist"
        ],
        "estimatedComplexity": "moderate",
        "dependencies": [
          "epic-flutter-foundation",
          "epic-flutter-foundation"
        ],
        "executionOrder": 2,
        "followsPatterns": [
          "Standard Flutter platform configuration",
          "Health package requirements for iOS/Android"
        ],
        "repoType": "frontend"
      },
      {
        "id": "epic-ui-foundation",
        "title": "UI Foundation - Design System and Navigation",
        "description": "Implement Material Design 3 design system with theming, reusable widgets, and go_router navigation structure",
        "targetRepository": "app-pasos-frontend-flutter",
        "affectedRepositories": [
          "app-pasos-frontend-flutter"
        ],
        "filesToModify": [
          "lib/core/theme/app_theme.dart",
          "lib/core/theme/app_colors.dart",
          "lib/core/router/app_router.dart"
        ],
        "filesToCreate": [
          "lib/core/widgets/app_button.dart",
          "lib/core/widgets/app_text_field.dart",
          "lib/core/widgets/app_card.dart",
          "lib/core/widgets/app_loading.dart",
          "lib/core/widgets/app_error.dart",
          "lib/core/widgets/app_empty_state.dart",
          "lib/core/widgets/app_bottom_nav.dart",
          "lib/core/widgets/app_avatar.dart",
          "lib/core/widgets/step_counter_widget.dart",
          "lib/core/widgets/progress_indicator_widget.dart",
          "lib/core/theme/app_spacing.dart",
          "lib/core/theme/app_shadows.dart"
        ],
        "filesToRead": [
          "lib/core/config/app_config.dart"
        ],
        "estimatedComplexity": "moderate",
        "dependencies": [
          "epic-flutter-foundation",
          "epic-flutter-foundation"
        ],
        "executionOrder": 2,
        "followsPatterns": [
          "Material Design 3 guidelines",
          "Reusable widget pattern",
          "Theme extension pattern"
        ],
        "repoType": "frontend"
      },
      {
        "id": "epic-auth-ui",
        "title": "Auth UI - Authentication Screens and State Management",
        "description": "Implement login, registration, password recovery screens with secure token storage and authentication state management",
        "targetRepository": "app-pasos-frontend-flutter",
        "affectedRepositories": [
          "app-pasos-frontend-flutter"
        ],
        "filesToModify": [
          "lib/core/router/app_router.dart",
          "lib/core/router/routes.dart",
          "lib/core/constants/api_endpoints.dart"
        ],
        "filesToCreate": [
          "lib/features/auth/data/models/user_model.dart",
          "lib/features/auth/data/models/auth_response_model.dart",
          "lib/features/auth/data/repositories/auth_repository.dart",
          "lib/features/auth/data/datasources/auth_remote_datasource.dart",
          "lib/features/auth/data/datasources/auth_local_datasource.dart",
          "lib/features/auth/domain/entities/user.dart",
          "lib/features/auth/presentation/providers/auth_provider.dart",
          "lib/features/auth/presentation/screens/login_screen.dart",
          "lib/features/auth/presentation/screens/register_screen.dart",
          "lib/features/auth/presentation/screens/forgot_password_screen.dart",
          "lib/features/auth/presentation/screens/splash_screen.dart",
          "lib/features/auth/presentation/widgets/auth_form_field.dart",
          "lib/features/auth/presentation/widgets/social_login_buttons.dart"
        ],
        "filesToRead": [
          "lib/core/network/dio_client.dart",
          "lib/core/network/api_interceptor.dart",
          "lib/core/utils/validators.dart"
        ],
        "estimatedComplexity": "complex",
        "dependencies": [
          "epic-ui-foundation",
          "epic-flutter-foundation"
        ],
        "executionOrder": 2,
        "followsPatterns": [
          "Uses existing DioClient singleton",
          "Uses existing Validators class",
          "flutter_secure_storage for token persistence",
          "Provider for auth state"
        ],
        "repoType": "frontend"
      },
      {
        "id": "epic-dashboard",
        "title": "Dashboard - Main Steps View with Charts and History",
        "description": "Implement the main dashboard with step counter display, weekly trends chart, hourly peaks visualization, and pull-to-refresh functionality",
        "targetRepository": "app-pasos-frontend-flutter",
        "affectedRepositories": [
          "app-pasos-frontend-flutter"
        ],
        "filesToModify": [
          "lib/core/router/app_router.dart",
          "lib/core/constants/api_endpoints.dart",
          "pubspec.yaml"
        ],
        "filesToCreate": [
          "lib/features/steps/data/models/step_model.dart",
          "lib/features/steps/data/models/daily_stats_model.dart",
          "lib/features/steps/data/models/weekly_trend_model.dart",
          "lib/features/steps/data/models/hourly_peak_model.dart",
          "lib/features/steps/data/repositories/steps_repository.dart",
          "lib/features/steps/data/datasources/steps_remote_datasource.dart",
          "lib/features/steps/data/datasources/steps_local_datasource.dart",
          "lib/features/steps/domain/entities/step_record.dart",
          "lib/features/steps/domain/entities/step_stats.dart",
          "lib/features/steps/presentation/providers/steps_provider.dart",
          "lib/features/steps/presentation/screens/dashboard_screen.dart",
          "lib/features/steps/presentation/screens/history_screen.dart",
          "lib/features/steps/presentation/widgets/step_counter_card.dart",
          "lib/features/steps/presentation/widgets/weekly_chart.dart",
          "lib/features/steps/presentation/widgets/hourly_chart.dart",
          "lib/features/steps/presentation/widgets/stats_summary_card.dart",
          "lib/features/steps/presentation/widgets/activity_timeline.dart"
        ],
        "filesToRead": [
          "lib/core/network/dio_client.dart",
          "lib/core/widgets/app_card.dart"
        ],
        "estimatedComplexity": "complex",
        "dependencies": [
          "epic-auth-ui",
          "epic-flutter-foundation",
          "epic-auth-ui"
        ],
        "executionOrder": 3,
        "followsPatterns": [
          "Uses DioClient for API calls",
          "Provider for steps state",
          "fl_chart for visualizations"
        ],
        "repoType": "frontend"
      },
      {
        "id": "epic-sharing-ui",
        "title": "Sharing UI - Friends and Social Features",
        "description": "Implement friend management, sharing requests, friend activity view, and shared step statistics",
        "targetRepository": "app-pasos-frontend-flutter",
        "affectedRepositories": [
          "app-pasos-frontend-flutter"
        ],
        "filesToModify": [
          "lib/core/router/app_router.dart",
          "lib/core/constants/api_endpoints.dart"
        ],
        "filesToCreate": [
          "lib/features/sharing/data/models/sharing_relationship_model.dart",
          "lib/features/sharing/data/models/friend_stats_model.dart",
          "lib/features/sharing/data/repositories/sharing_repository.dart",
          "lib/features/sharing/data/datasources/sharing_remote_datasource.dart",
          "lib/features/sharing/domain/entities/sharing_relationship.dart",
          "lib/features/sharing/domain/entities/friend.dart",
          "lib/features/sharing/presentation/providers/sharing_provider.dart",
          "lib/features/sharing/presentation/providers/friends_provider.dart",
          "lib/features/sharing/presentation/screens/friends_screen.dart",
          "lib/features/sharing/presentation/screens/friend_requests_screen.dart",
          "lib/features/sharing/presentation/screens/add_friend_screen.dart",
          "lib/features/sharing/presentation/screens/friend_detail_screen.dart",
          "lib/features/sharing/presentation/widgets/friend_list_item.dart",
          "lib/features/sharing/presentation/widgets/friend_request_card.dart",
          "lib/features/sharing/presentation/widgets/friend_stats_card.dart",
          "lib/features/sharing/presentation/widgets/friend_search_bar.dart"
        ],
        "filesToRead": [
          "lib/core/network/dio_client.dart",
          "lib/features/auth/data/models/user_model.dart"
        ],
        "estimatedComplexity": "complex",
        "dependencies": [
          "epic-auth-ui",
          "epic-flutter-foundation",
          "epic-auth-ui"
        ],
        "executionOrder": 3,
        "followsPatterns": [
          "Uses DioClient for API calls",
          "Provider for sharing state",
          "Consistent UI with app_card pattern"
        ],
        "repoType": "frontend"
      },
      {
        "id": "epic-goals-ui",
        "title": "Goals UI - Group Goals and Rankings",
        "description": "Implement group goal creation, management, progress tracking, member invitations, and leaderboard rankings",
        "targetRepository": "app-pasos-frontend-flutter",
        "affectedRepositories": [
          "app-pasos-frontend-flutter"
        ],
        "filesToModify": [
          "lib/core/router/app_router.dart",
          "lib/core/constants/api_endpoints.dart"
        ],
        "filesToCreate": [
          "lib/features/goals/data/models/group_goal_model.dart",
          "lib/features/goals/data/models/goal_membership_model.dart",
          "lib/features/goals/data/models/goal_progress_model.dart",
          "lib/features/goals/data/repositories/goals_repository.dart",
          "lib/features/goals/data/datasources/goals_remote_datasource.dart",
          "lib/features/goals/domain/entities/group_goal.dart",
          "lib/features/goals/domain/entities/goal_member.dart",
          "lib/features/goals/domain/entities/goal_progress.dart",
          "lib/features/goals/presentation/providers/goals_provider.dart",
          "lib/features/goals/presentation/screens/goals_list_screen.dart",
          "lib/features/goals/presentation/screens/goal_detail_screen.dart",
          "lib/features/goals/presentation/screens/create_goal_screen.dart",
          "lib/features/goals/presentation/screens/invite_members_screen.dart",
          "lib/features/goals/presentation/widgets/goal_card.dart",
          "lib/features/goals/presentation/widgets/goal_progress_bar.dart",
          "lib/features/goals/presentation/widgets/member_contribution_list.dart",
          "lib/features/goals/presentation/widgets/leaderboard_widget.dart",
          "lib/features/goals/presentation/widgets/goal_date_picker.dart"
        ],
        "filesToRead": [
          "lib/core/network/dio_client.dart",
          "lib/features/sharing/data/models/sharing_relationship_model.dart"
        ],
        "estimatedComplexity": "complex",
        "dependencies": [
          "epic-sharing-ui",
          "epic-flutter-foundation",
          "epic-auth-ui"
        ],
        "executionOrder": 3,
        "followsPatterns": [
          "Uses DioClient for API calls",
          "Provider for goals state",
          "Consistent progress visualization"
        ],
        "repoType": "frontend"
      },
      {
        "id": "epic-native-integration",
        "title": "Native Integration - Health APIs and Background Sync",
        "description": "Implement native health data integration with HealthKit (iOS) and Google Fit/Health Connect (Android), including background synchronization",
        "targetRepository": "app-pasos-frontend-flutter",
        "affectedRepositories": [
          "app-pasos-frontend-flutter"
        ],
        "filesToModify": [
          "pubspec.yaml",
          "lib/features/steps/presentation/providers/steps_provider.dart",
          "lib/features/steps/data/repositories/steps_repository.dart"
        ],
        "filesToCreate": [
          "lib/core/services/health_service.dart",
          "lib/core/services/background_sync_service.dart",
          "lib/core/services/pedometer_service.dart",
          "lib/features/steps/data/datasources/health_datasource.dart",
          "lib/features/steps/data/models/health_data_model.dart",
          "lib/features/steps/presentation/screens/health_permissions_screen.dart",
          "lib/features/steps/presentation/widgets/health_status_indicator.dart",
          "lib/features/steps/presentation/widgets/sync_status_widget.dart",
          "lib/core/platform/background_fetch_handler.dart"
        ],
        "filesToRead": [
          "lib/core/platform/health_permissions.dart",
          "lib/core/network/dio_client.dart"
        ],
        "estimatedComplexity": "complex",
        "dependencies": [
          "epic-platform-config",
          "epic-dashboard",
          "epic-flutter-foundation",
          "epic-dashboard"
        ],
        "executionOrder": 3,
        "followsPatterns": [
          "health package for cross-platform health data",
          "workmanager for background tasks",
          "Platform channel pattern for native code"
        ],
        "repoType": "frontend"
      },
      {
        "id": "epic-realtime-client",
        "title": "Real-Time Client - WebSocket and Push Notifications",
        "description": "Implement WebSocket client for real-time updates, push notifications with Firebase Cloud Messaging, and connection state management",
        "targetRepository": "app-pasos-frontend-flutter",
        "affectedRepositories": [
          "app-pasos-frontend-flutter"
        ],
        "filesToModify": [
          "pubspec.yaml",
          "lib/main.dart",
          "android/app/build.gradle.kts",
          "ios/Runner/Info.plist"
        ],
        "filesToCreate": [
          "lib/core/services/websocket_service.dart",
          "lib/core/services/notification_service.dart",
          "lib/core/services/realtime_sync_service.dart",
          "lib/features/notifications/data/models/notification_model.dart",
          "lib/features/notifications/data/repositories/notification_repository.dart",
          "lib/features/notifications/presentation/providers/notification_provider.dart",
          "lib/features/notifications/presentation/screens/notifications_screen.dart",
          "lib/features/notifications/presentation/widgets/notification_badge.dart",
          "lib/features/notifications/presentation/widgets/notification_list_item.dart",
          "android/app/google-services.json.example",
          "ios/Runner/GoogleService-Info.plist.example",
          "lib/firebase_options.dart.example"
        ],
        "filesToRead": [
          "lib/core/network/dio_client.dart",
          "lib/core/config/app_config.dart"
        ],
        "estimatedComplexity": "complex",
        "dependencies": [
          "epic-auth-ui",
          "epic-sharing-ui",
          "epic-goals-ui",
          "epic-flutter-foundation",
          "epic-platform-config"
        ],
        "executionOrder": 2,
        "followsPatterns": [
          "web_socket_channel for WebSocket",
          "firebase_messaging for push notifications",
          "Provider for connection state",
          "Automatic reconnection with exponential backoff"
        ],
        "repoType": "frontend"
      }
    ]
  }
}