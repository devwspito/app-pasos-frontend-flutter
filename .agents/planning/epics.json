{
  "_metadata": {
    "agentType": "planning",
    "taskId": "25044f1f7f2c32e9d29cf33f",
    "timestamp": "2026-01-22T15:25:26.930Z",
    "phase": "planning",
    "savedAt": "2026-01-22T15:25:26.930Z",
    "version": "1.0"
  },
  "data": {
    "taskTitle": "Final completed Frontd Flutter",
    "taskDescription": "üìã TASK: Continuar desarrollo de App Pasos Flutter Frontend ## Contexto Este proyecto ya tiene implementado: - ‚úÖ Flutter Foundation (DI, API client, storage, error handling) - ‚úÖ UI Foundation (Material 3 theme, go_router, widgets) - ‚úÖ Authentication UI completo (login, register, forgot password, providers) - ‚úÖ Dashboard: Models y entities (StepModel, StepStats, WeeklyTrend) - ‚ö†Ô∏è Dashboard: Use cases y providers parciales (en rama feature/epic-dashboard-story-4-partial) Repositorio: https://github.com/devwspito/app-pasos-frontend-flutter ## Trabajo Pendiente ### 1. Dashboard & Step Tracking (Prioridad Alta) - Merge rama `feature/epic-dashboard-story-4-partial` a main - Completar DataSources (remote + local con caching) - Completar Repository con offline-first logic - Crear DashboardScreen con widgets: - StepCounterCard (circular progress animado) - StatsSummaryCard - WeeklyChart (usar fl_chart) - HourlyChart - ActivityListItem - Crear StepHistoryScreen - Actualizar AppRouter con rutas del dashboard ### 2. Platform Configuration (Faltante) - Configurar assets directory structure en pubspec.yaml ### 3. Sharing & Friends UI (Epic completo) - Implementar UI para compartir pasos con amigos - Lista de amigos, invitaciones, comparativas ### 4. Goals & Groups UI (Epic completo) - UI para metas personales y grupales - Crear/editar metas, progreso, grupos ### 5. Native Health API Integration (Epic completo) - Integraci√≥n con HealthKit (iOS) - Integraci√≥n con Health Connect (Android) - Sincronizaci√≥n de pasos desde dispositivo ### 6. Real-Time WebSocket Client (Epic completo) - Cliente Socket.io para actualizaciones en tiempo real - Sincronizaci√≥n de pasos entre dispositivos ## Arquitectura Usar Clean Architecture: - data/models, data/datasources, data/repositories - domain/entities, domain/repositories, domain/usecases - presentation/screens, presentation/widgets, presentation/providers (Riverpod) ## Stack - Flutter 3.x - Riverpod para state management - go_router para navegaci√≥n - Dio para HTTP - fl_chart para gr√°ficos - get_it para DI",
    "epicsCount": 6,
    "epics": [
      {
        "id": "epic-flutter-platform-setup",
        "title": "Flutter Platform Setup",
        "description": "Generate iOS and Android platform directories using flutter create and configure pubspec.yaml with required packages (fl_chart, socket_io_client, health)",
        "targetRepository": "app-pasos-frontend-flutter",
        "affectedRepositories": [
          "app-pasos-frontend-flutter"
        ],
        "filesToModify": [
          "pubspec.yaml"
        ],
        "filesToCreate": [
          "ios/Runner/Info.plist",
          "ios/Runner/AppDelegate.swift",
          "ios/Runner.xcodeproj/project.pbxproj",
          "android/app/src/main/AndroidManifest.xml",
          "android/app/src/main/kotlin/com/example/app_pasos_frontend/MainActivity.kt",
          "android/app/build.gradle",
          "android/build.gradle",
          "android/settings.gradle"
        ],
        "filesToRead": [
          "pubspec.yaml",
          "lib/main.dart"
        ],
        "estimatedComplexity": "simple",
        "dependencies": [],
        "executionOrder": 1,
        "followsPatterns": [
          "Standard Flutter platform setup",
          "Package management via pubspec.yaml"
        ],
        "gitOperations": [
          "flutter create . --org com.apppasos"
        ],
        "repoType": "frontend"
      },
      {
        "id": "epic-dashboard-completion",
        "title": "Dashboard & Step Tracking Completion",
        "description": "Complete the dashboard feature by merging partial branch, implementing datasources with offline-first caching, repository implementation, and all dashboard UI widgets including charts",
        "targetRepository": "app-pasos-frontend-flutter",
        "affectedRepositories": [
          "app-pasos-frontend-flutter"
        ],
        "filesToModify": [
          "lib/core/di/injection_container.dart",
          "lib/app.dart",
          "lib/features/steps/presentation/providers/steps_provider.dart",
          "lib/core/constants/api_endpoints.dart"
        ],
        "filesToCreate": [
          "lib/features/steps/data/datasources/steps_remote_datasource.dart",
          "lib/features/steps/data/datasources/steps_local_datasource.dart",
          "lib/features/steps/data/repositories/steps_repository_impl.dart",
          "lib/features/steps/presentation/screens/dashboard_screen.dart",
          "lib/features/steps/presentation/screens/step_history_screen.dart",
          "lib/features/steps/presentation/widgets/step_counter_card.dart",
          "lib/features/steps/presentation/widgets/stats_summary_card.dart",
          "lib/features/steps/presentation/widgets/weekly_chart.dart",
          "lib/features/steps/presentation/widgets/hourly_chart.dart",
          "lib/features/steps/presentation/widgets/activity_list_item.dart",
          "lib/core/router/app_router.dart"
        ],
        "filesToRead": [
          "lib/features/steps/domain/repositories/steps_repository.dart",
          "lib/features/steps/domain/entities/step_stats.dart",
          "lib/features/steps/data/models/step_model.dart",
          "lib/core/network/api_client.dart"
        ],
        "estimatedComplexity": "complex",
        "dependencies": [
          "epic-flutter-platform-setup"
        ],
        "executionOrder": 1,
        "followsPatterns": [
          "Clean Architecture datasource/repository pattern",
          "Riverpod StateNotifier state management",
          "Offline-first with local caching",
          "fl_chart for data visualization"
        ],
        "gitOperations": [
          "git fetch origin",
          "git merge origin/feature/epic-dashboard-story-4-partial"
        ],
        "repoType": "frontend"
      },
      {
        "id": "epic-sharing-friends-ui",
        "title": "Sharing & Friends UI",
        "description": "Implement complete sharing feature UI including friend list, sending/accepting share requests, viewing shared user stats, and friend comparisons",
        "targetRepository": "app-pasos-frontend-flutter",
        "affectedRepositories": [
          "app-pasos-frontend-flutter"
        ],
        "filesToModify": [
          "lib/core/di/injection_container.dart",
          "lib/core/router/app_router.dart",
          "lib/core/constants/api_endpoints.dart"
        ],
        "filesToCreate": [
          "lib/features/sharing/domain/entities/sharing_relationship.dart",
          "lib/features/sharing/domain/entities/shared_user_stats.dart",
          "lib/features/sharing/domain/repositories/sharing_repository.dart",
          "lib/features/sharing/domain/usecases/get_relationships_usecase.dart",
          "lib/features/sharing/domain/usecases/send_sharing_request_usecase.dart",
          "lib/features/sharing/domain/usecases/accept_request_usecase.dart",
          "lib/features/sharing/domain/usecases/get_shared_stats_usecase.dart",
          "lib/features/sharing/data/models/sharing_relationship_model.dart",
          "lib/features/sharing/data/models/shared_user_stats_model.dart",
          "lib/features/sharing/data/datasources/sharing_remote_datasource.dart",
          "lib/features/sharing/data/repositories/sharing_repository_impl.dart",
          "lib/features/sharing/presentation/providers/sharing_provider.dart",
          "lib/features/sharing/presentation/providers/sharing_state.dart",
          "lib/features/sharing/presentation/screens/friends_screen.dart",
          "lib/features/sharing/presentation/screens/friend_detail_screen.dart",
          "lib/features/sharing/presentation/screens/add_friend_screen.dart",
          "lib/features/sharing/presentation/widgets/friend_list_item.dart",
          "lib/features/sharing/presentation/widgets/pending_request_card.dart",
          "lib/features/sharing/presentation/widgets/stats_comparison_widget.dart"
        ],
        "filesToRead": [
          "lib/features/steps/presentation/providers/steps_provider.dart",
          "lib/features/steps/domain/repositories/steps_repository.dart",
          "lib/core/network/api_client.dart"
        ],
        "estimatedComplexity": "complex",
        "dependencies": [
          "epic-dashboard-completion",
          "epic-dashboard-completion"
        ],
        "executionOrder": 2,
        "followsPatterns": [
          "Clean Architecture feature structure",
          "Riverpod StateNotifier pattern",
          "API integration with ApiClient"
        ],
        "repoType": "frontend"
      },
      {
        "id": "epic-goals-groups-ui",
        "title": "Goals & Groups UI",
        "description": "Implement complete goals and group goals feature UI including creating personal/group goals, managing members, tracking progress, and displaying leaderboards",
        "targetRepository": "app-pasos-frontend-flutter",
        "affectedRepositories": [
          "app-pasos-frontend-flutter"
        ],
        "filesToModify": [
          "lib/core/di/injection_container.dart",
          "lib/core/router/app_router.dart",
          "lib/core/constants/api_endpoints.dart"
        ],
        "filesToCreate": [
          "lib/features/goals/domain/entities/goal.dart",
          "lib/features/goals/domain/entities/goal_membership.dart",
          "lib/features/goals/domain/entities/goal_progress.dart",
          "lib/features/goals/domain/repositories/goals_repository.dart",
          "lib/features/goals/domain/usecases/get_user_goals_usecase.dart",
          "lib/features/goals/domain/usecases/create_goal_usecase.dart",
          "lib/features/goals/domain/usecases/get_goal_progress_usecase.dart",
          "lib/features/goals/domain/usecases/invite_user_usecase.dart",
          "lib/features/goals/domain/usecases/join_goal_usecase.dart",
          "lib/features/goals/data/models/goal_model.dart",
          "lib/features/goals/data/models/goal_membership_model.dart",
          "lib/features/goals/data/models/goal_progress_model.dart",
          "lib/features/goals/data/datasources/goals_remote_datasource.dart",
          "lib/features/goals/data/repositories/goals_repository_impl.dart",
          "lib/features/goals/presentation/providers/goals_provider.dart",
          "lib/features/goals/presentation/providers/goals_state.dart",
          "lib/features/goals/presentation/screens/goals_screen.dart",
          "lib/features/goals/presentation/screens/goal_detail_screen.dart",
          "lib/features/goals/presentation/screens/create_goal_screen.dart",
          "lib/features/goals/presentation/screens/invite_members_screen.dart",
          "lib/features/goals/presentation/widgets/goal_card.dart",
          "lib/features/goals/presentation/widgets/goal_progress_indicator.dart",
          "lib/features/goals/presentation/widgets/member_list_item.dart",
          "lib/features/goals/presentation/widgets/leaderboard_widget.dart"
        ],
        "filesToRead": [
          "lib/features/steps/presentation/providers/steps_provider.dart",
          "lib/features/sharing/presentation/providers/sharing_provider.dart",
          "lib/core/network/api_client.dart"
        ],
        "estimatedComplexity": "complex",
        "dependencies": [
          "epic-sharing-friends-ui",
          "epic-dashboard-completion"
        ],
        "executionOrder": 2,
        "followsPatterns": [
          "Clean Architecture feature structure",
          "Riverpod StateNotifier pattern",
          "Reusable widget patterns"
        ],
        "repoType": "frontend"
      },
      {
        "id": "epic-native-health-integration",
        "title": "Native Health API Integration",
        "description": "Integrate with HealthKit (iOS) and Health Connect (Android) to sync step data from device sensors, including background sync and permission handling",
        "targetRepository": "app-pasos-frontend-flutter",
        "affectedRepositories": [
          "app-pasos-frontend-flutter"
        ],
        "filesToModify": [
          "pubspec.yaml",
          "ios/Runner/Info.plist",
          "android/app/src/main/AndroidManifest.xml",
          "lib/core/di/injection_container.dart",
          "lib/features/steps/data/datasources/steps_local_datasource.dart",
          "lib/features/steps/data/repositories/steps_repository_impl.dart"
        ],
        "filesToCreate": [
          "lib/core/health/health_service.dart",
          "lib/core/health/health_permission_handler.dart",
          "lib/features/steps/data/datasources/health_datasource.dart",
          "lib/features/steps/presentation/screens/health_permissions_screen.dart",
          "lib/features/steps/presentation/widgets/health_sync_status.dart"
        ],
        "filesToRead": [
          "lib/features/steps/domain/repositories/steps_repository.dart",
          "lib/features/steps/data/repositories/steps_repository_impl.dart",
          "lib/core/di/injection_container.dart"
        ],
        "estimatedComplexity": "complex",
        "dependencies": [
          "epic-dashboard-completion",
          "epic-flutter-platform-setup",
          "epic-dashboard-completion"
        ],
        "executionOrder": 2,
        "followsPatterns": [
          "Platform-specific service abstraction",
          "Permission handling pattern",
          "Background sync architecture"
        ],
        "repoType": "frontend"
      },
      {
        "id": "epic-websocket-realtime",
        "title": "Real-Time WebSocket Client",
        "description": "Implement Socket.io client for real-time step updates, goal progress notifications, and cross-device synchronization",
        "targetRepository": "app-pasos-frontend-flutter",
        "affectedRepositories": [
          "app-pasos-frontend-flutter"
        ],
        "filesToModify": [
          "pubspec.yaml",
          "lib/core/di/injection_container.dart",
          "lib/features/steps/presentation/providers/steps_provider.dart",
          "lib/features/goals/presentation/providers/goals_provider.dart"
        ],
        "filesToCreate": [
          "lib/core/socket/socket_service.dart",
          "lib/core/socket/socket_events.dart",
          "lib/core/socket/socket_connection_state.dart",
          "lib/features/steps/data/datasources/steps_socket_datasource.dart",
          "lib/features/goals/data/datasources/goals_socket_datasource.dart"
        ],
        "filesToRead": [
          "lib/core/network/api_client.dart",
          "lib/core/storage/secure_storage.dart",
          "lib/features/steps/presentation/providers/steps_provider.dart"
        ],
        "estimatedComplexity": "moderate",
        "dependencies": [
          "epic-dashboard-completion",
          "epic-goals-groups-ui",
          "epic-flutter-platform-setup",
          "epic-dashboard-completion",
          "epic-goals-groups-ui"
        ],
        "executionOrder": 4,
        "followsPatterns": [
          "Singleton socket service",
          "Event-driven architecture",
          "Reconnection handling"
        ],
        "repoType": "frontend"
      }
    ]
  }
}