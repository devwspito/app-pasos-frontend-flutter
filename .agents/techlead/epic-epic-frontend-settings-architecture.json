{
  "_metadata": {
    "agentType": "techlead",
    "taskId": "1bb751c1ac1b94470511c071",
    "timestamp": "2026-01-31T19:33:50.866Z",
    "phase": "techlead",
    "epicId": "epic-frontend-settings",
    "savedAt": "2026-01-31T19:33:50.866Z",
    "version": "1.0"
  },
  "data": {
    "epicId": "epic-frontend-settings",
    "storiesCount": 2,
    "architecture": "## Architecture Overview\n\nThis epic implements the Settings feature following **Clean Architecture** with **BLoC pattern** for state management, consistent with the existing codebase patterns.\n\n### Layer Structure\n```\nlib/features/settings/\n‚îú‚îÄ‚îÄ domain/\n‚îÇ   ‚îú‚îÄ‚îÄ entities/user_settings.dart       # Pure domain entity\n‚îÇ   ‚îî‚îÄ‚îÄ repositories/settings_repository.dart  # Abstract interface\n‚îú‚îÄ‚îÄ data/\n‚îÇ   ‚îú‚îÄ‚îÄ models/user_settings_model.dart   # JSON serialization\n‚îÇ   ‚îú‚îÄ‚îÄ datasources/settings_remote_datasource.dart  # API calls\n‚îÇ   ‚îî‚îÄ‚îÄ repositories/settings_repository_impl.dart   # Implementation\n‚îî‚îÄ‚îÄ presentation/\n    ‚îú‚îÄ‚îÄ bloc/\n    ‚îÇ   ‚îú‚îÄ‚îÄ settings_bloc.dart\n    ‚îÇ   ‚îú‚îÄ‚îÄ settings_event.dart\n    ‚îÇ   ‚îî‚îÄ‚îÄ settings_state.dart\n    ‚îú‚îÄ‚îÄ pages/settings_page.dart\n    ‚îî‚îÄ‚îÄ widgets/\n        ‚îú‚îÄ‚îÄ settings_section.dart\n        ‚îî‚îÄ‚îÄ settings_tile.dart\n```\n\n### Key Patterns Used\n\n1. **Sealed Classes (Dart 3)**: Events and States use `sealed class` for exhaustive pattern matching\n2. **Dependency Injection**: get_it with `sl` service locator, BLoCs as Factory, Repositories as LazySingleton\n3. **Model-Entity Separation**: Models extend entities and add JSON serialization\n4. **BlocProvider in Router**: Routes wrap pages with BlocProvider and dispatch initial events\n5. **AppScaffold**: All pages use shared AppScaffold widget for consistent layout\n\n### Data Flow\n```\nUI ‚Üí SettingsEvent ‚Üí SettingsBloc ‚Üí SettingsRepository ‚Üí SettingsRemoteDatasource ‚Üí ApiClient ‚Üí Backend\n                           ‚Üì\n                     SettingsState ‚Üí UI\n```\n\n### Theme Integration\nThe ThemePreference enum (light/dark/system) integrates with AppTheme.lightTheme and AppTheme.darkTheme defined in lib/core/theme/app_theme.dart.\n\n### Setup Commands\n```bash\nflutter pub get\n```\n\n### Verification Commands\n```bash\nflutter analyze\nflutter test\n```",
    "stories": [
      {
        "id": "epic-frontend-settings-story-1",
        "title": "Create UserSettings entity, model, datasource, repository, and SettingsBloc in lib/features/settings/",
        "description": "**Description:**\nImplement the complete data and domain layer for Settings feature following Clean Architecture, plus the SettingsBloc for state management.\n\nüîí **SCOPE BOUNDARY:**\n- You can ONLY create/modify files listed below\n- Creating ANY other file is a scope violation\n\nüìÅ **FILES:**\n- Read: lib/features/auth/domain/entities/user.dart, lib/features/auth/data/models/user_model.dart, lib/features/auth/domain/repositories/auth_repository.dart, lib/features/auth/data/repositories/auth_repository_impl.dart, lib/features/auth/data/datasources/auth_remote_datasource.dart, lib/features/profile/presentation/bloc/profile_bloc.dart, lib/features/profile/presentation/bloc/profile_event.dart, lib/features/profile/presentation/bloc/profile_state.dart, lib/core/di/injection_container.dart, lib/core/network/api_endpoints.dart\n- Modify: lib/core/di/injection_container.dart, lib/core/network/api_endpoints.dart\n- Create: lib/features/settings/domain/entities/user_settings.dart, lib/features/settings/domain/repositories/settings_repository.dart, lib/features/settings/data/models/user_settings_model.dart, lib/features/settings/data/datasources/settings_remote_datasource.dart, lib/features/settings/data/repositories/settings_repository_impl.dart, lib/features/settings/presentation/bloc/settings_event.dart, lib/features/settings/presentation/bloc/settings_state.dart, lib/features/settings/presentation/bloc/settings_bloc.dart\n\nüîß **PATTERNS TO USE:**\n\n**1. Entity Pattern (from user.dart):**\n```dart\nclass UserSettings extends Equatable {\n  const UserSettings({\n    required this.notificationsEnabled,\n    required this.dailyGoalReminder,\n    required this.themePreference,\n  });\n  final bool notificationsEnabled;\n  final TimeOfDay? dailyGoalReminder;\n  final ThemePreference themePreference;\n  @override\n  List<Object?> get props => [notificationsEnabled, dailyGoalReminder, themePreference];\n}\nenum ThemePreference { light, dark, system }\n```\n\n**2. Model Pattern (from user_model.dart lines 23-97):**\n```dart\nclass UserSettingsModel extends UserSettings {\n  const UserSettingsModel({required super.notificationsEnabled, ...});\n  factory UserSettingsModel.fromJson(Map<String, dynamic> json) { ... }\n  Map<String, dynamic> toJson() { ... }\n  UserSettingsModel copyWith({...}) { ... }\n}\n```\n\n**3. Repository Interface Pattern (from auth_repository.dart):**\n```dart\nabstract interface class SettingsRepository {\n  Future<UserSettings> getSettings();\n  Future<UserSettings> updateSettings(UserSettings settings);\n  Future<void> deleteAccount();\n}\n```\n\n**4. Repository Implementation Pattern (from auth_repository_impl.dart):**\n```dart\nclass SettingsRepositoryImpl implements SettingsRepository {\n  SettingsRepositoryImpl({required SettingsRemoteDatasource datasource}) : _datasource = datasource;\n  final SettingsRemoteDatasource _datasource;\n  // implement methods calling _datasource\n}\n```\n\n**5. Datasource Pattern (from auth_remote_datasource.dart lines 17-176):**\n```dart\nabstract interface class SettingsRemoteDatasource {\n  Future<UserSettingsModel> getSettings();\n  Future<UserSettingsModel> updateSettings(UserSettingsModel settings);\n  Future<void> deleteAccount();\n}\n\nclass SettingsRemoteDatasourceImpl implements SettingsRemoteDatasource {\n  SettingsRemoteDatasourceImpl({required ApiClient client}) : _client = client;\n  final ApiClient _client;\n  // Use _client.get(), _client.put(), _client.delete()\n}\n```\n\n**6. BLoC Events Pattern (from profile_event.dart):**\n```dart\nsealed class SettingsEvent extends Equatable {\n  const SettingsEvent();\n}\nfinal class SettingsLoadRequested extends SettingsEvent { ... }\nfinal class SettingsUpdateRequested extends SettingsEvent {\n  const SettingsUpdateRequested({required this.settings});\n  final UserSettings settings;\n  @override\n  List<Object?> get props => [settings];\n}\nfinal class SettingsDeleteAccountRequested extends SettingsEvent { ... }\nfinal class SettingsLogoutRequested extends SettingsEvent { ... }\n```\n\n**7. BLoC States Pattern (from profile_state.dart):**\n```dart\nsealed class SettingsState extends Equatable { const SettingsState(); }\nfinal class SettingsInitial extends SettingsState { ... }\nfinal class SettingsLoading extends SettingsState { ... }\nfinal class SettingsLoaded extends SettingsState {\n  const SettingsLoaded({required this.settings});\n  final UserSettings settings;\n  @override\n  List<Object?> get props => [settings];\n}\nfinal class SettingsUpdating extends SettingsState { ... }\nfinal class SettingsUpdateSuccess extends SettingsState { ... }\nfinal class SettingsError extends SettingsState { ... }\nfinal class SettingsAccountDeleted extends SettingsState { ... }\n```\n\n**8. BLoC Pattern (from profile_bloc.dart):**\n```dart\nclass SettingsBloc extends Bloc<SettingsEvent, SettingsState> {\n  SettingsBloc({required SettingsRepository repository, required AuthRepository authRepository})\n      : _repository = repository,\n        _authRepository = authRepository,\n        super(const SettingsInitial()) {\n    on<SettingsLoadRequested>(_onLoadRequested);\n    on<SettingsUpdateRequested>(_onUpdateRequested);\n    on<SettingsDeleteAccountRequested>(_onDeleteAccountRequested);\n    on<SettingsLogoutRequested>(_onLogoutRequested);\n  }\n}\n```\n\n**9. DI Registration Pattern (from injection_container.dart lines 178-213):**\n```dart\n// In initializeDependencies():\n// Data Sources\nsl.registerLazySingleton<SettingsRemoteDatasource>(\n  () => SettingsRemoteDatasourceImpl(client: sl<ApiClient>()),\n);\n// Repositories\nsl.registerLazySingleton<SettingsRepository>(\n  () => SettingsRepositoryImpl(datasource: sl<SettingsRemoteDatasource>()),\n);\n// Blocs (Factory - new instance per use)\nsl.registerFactory<SettingsBloc>(\n  () => SettingsBloc(\n    repository: sl<SettingsRepository>(),\n    authRepository: sl<AuthRepository>(),\n  ),\n);\n```\n\n**10. API Endpoints Pattern (from api_endpoints.dart):**\nAdd to ApiEndpoints class:\n```dart\n/// GET: Get user settings\nstatic const String settings = '/users/settings';\n/// PUT: Update user settings\nstatic const String updateSettings = '/users/settings';\n```\n\n‚ö†Ô∏è **ANTI-PATTERNS TO AVOID:**\n- `class SettingsEvent` without `sealed` keyword ‚Üê WRONG (breaks pattern matching)\n- `class SettingsState` without `sealed` keyword ‚Üê WRONG\n- Using `abstract class` instead of `abstract interface class` for repository ‚Üê WRONG\n- Registering BLoC with `registerLazySingleton` instead of `registerFactory` ‚Üê WRONG (BLoCs should be factory)\n- Not using `final class` for event/state subclasses ‚Üê WRONG\n- Not extending Equatable ‚Üê WRONG (breaks equality comparisons)\n- Missing `library;` directive at top of file ‚Üê WRONG (project convention)\n\nüéØ **FUNCTIONAL REQUIREMENTS:**\n1. UserSettings entity with: notificationsEnabled (bool), dailyGoalReminder (TimeOfDay?), themePreference (enum: light/dark/system)\n2. SettingsLoadRequested loads current settings from repository\n3. SettingsUpdateRequested persists changes via repository\n4. SettingsDeleteAccountRequested calls delete account endpoint\n5. SettingsLogoutRequested uses AuthRepository.logout()\n6. All error handling follows pattern in profile_bloc.dart _getErrorMessage()\n7. Bloc registered in injection_container.dart with sl.registerFactory\n\nüß™ **VERIFICATION:**\n```bash\nflutter analyze lib/features/settings/\nflutter test\n```",
        "epicId": "epic-frontend-settings",
        "priority": 1,
        "estimatedComplexity": "moderate",
        "dependencies": [],
        "status": "pending",
        "filesToRead": [
          "lib/features/auth/domain/entities/user.dart",
          "lib/features/auth/data/models/user_model.dart",
          "lib/features/auth/domain/repositories/auth_repository.dart",
          "lib/features/auth/data/repositories/auth_repository_impl.dart",
          "lib/features/auth/data/datasources/auth_remote_datasource.dart",
          "lib/features/profile/presentation/bloc/profile_bloc.dart",
          "lib/features/profile/presentation/bloc/profile_event.dart",
          "lib/features/profile/presentation/bloc/profile_state.dart",
          "lib/core/di/injection_container.dart",
          "lib/core/network/api_endpoints.dart"
        ],
        "filesToModify": [
          "lib/core/di/injection_container.dart",
          "lib/core/network/api_endpoints.dart"
        ],
        "filesToCreate": [
          "lib/features/settings/domain/entities/user_settings.dart",
          "lib/features/settings/domain/repositories/settings_repository.dart",
          "lib/features/settings/data/models/user_settings_model.dart",
          "lib/features/settings/data/datasources/settings_remote_datasource.dart",
          "lib/features/settings/data/repositories/settings_repository_impl.dart",
          "lib/features/settings/presentation/bloc/settings_event.dart",
          "lib/features/settings/presentation/bloc/settings_state.dart",
          "lib/features/settings/presentation/bloc/settings_bloc.dart"
        ],
        "acceptanceCriteria": [
          "Given the UserSettings entity exists, When I check its properties, Then it has notificationsEnabled (bool), dailyGoalReminder (TimeOfDay?), and themePreference (ThemePreference enum)",
          "Given the SettingsBloc is created, When SettingsLoadRequested is dispatched, Then it emits SettingsLoading then SettingsLoaded with current settings",
          "Given settings are loaded, When SettingsUpdateRequested is dispatched with new settings, Then it emits SettingsUpdating then SettingsUpdateSuccess and persists to backend",
          "Given the Settings model exists, When fromJson is called with valid JSON, Then it correctly parses all fields including enum values",
          "Given SettingsBloc is registered, When sl<SettingsBloc>() is called, Then a new instance is returned (factory pattern)",
          "Given flutter analyze is run, When analyzing lib/features/settings/, Then there are no analysis errors"
        ]
      },
      {
        "id": "epic-frontend-settings-story-2",
        "title": "Create SettingsPage UI with sections, toggles, theme picker, and account options in lib/features/settings/presentation/",
        "description": "**Description:**\nImplement the SettingsPage UI with grouped sections for notifications, appearance, and account management. Connect to SettingsBloc and update router.\n\nüîí **SCOPE BOUNDARY:**\n- You can ONLY create/modify files listed below\n- Creating ANY other file is a scope violation\n\nüìÅ **FILES:**\n- Read: lib/features/profile/presentation/pages/profile_page.dart, lib/shared/widgets/app_scaffold.dart, lib/shared/widgets/loading_indicator.dart, lib/core/router/app_router.dart, lib/core/router/route_names.dart, lib/core/theme/app_theme.dart, lib/features/settings/presentation/bloc/settings_bloc.dart, lib/features/settings/presentation/bloc/settings_event.dart, lib/features/settings/presentation/bloc/settings_state.dart, lib/features/settings/domain/entities/user_settings.dart\n- Modify: lib/core/router/app_router.dart\n- Create: lib/features/settings/presentation/pages/settings_page.dart, lib/features/settings/presentation/widgets/settings_section.dart, lib/features/settings/presentation/widgets/settings_tile.dart\n\nüîß **PATTERNS TO USE:**\n\n**1. Page Pattern (from profile_page.dart):**\n```dart\nclass SettingsPage extends StatelessWidget {\n  const SettingsPage({super.key});\n\n  @override\n  Widget build(BuildContext context) {\n    return AppScaffold(\n      title: 'Settings',\n      body: BlocConsumer<SettingsBloc, SettingsState>(\n        listener: (context, state) {\n          if (state is SettingsUpdateSuccess) {\n            ScaffoldMessenger.of(context).showSnackBar(...);\n          } else if (state is SettingsError) {\n            ScaffoldMessenger.of(context).showSnackBar(...);\n          } else if (state is SettingsAccountDeleted) {\n            context.go(RouteNames.login);\n          }\n        },\n        builder: (context, state) {\n          return switch (state) {\n            SettingsInitial() || SettingsLoading() => const LoadingIndicator(),\n            SettingsLoaded(:final settings) || SettingsUpdating(:final settings) || SettingsUpdateSuccess(:final settings) => _buildContent(context, settings, state is SettingsUpdating),\n            SettingsError(:final message) => _buildErrorContent(context, message),\n            SettingsAccountDeleted() => const LoadingIndicator(),\n          };\n        },\n      ),\n    );\n  }\n}\n```\n\n**2. SettingsSection Widget Pattern:**\n```dart\nclass SettingsSection extends StatelessWidget {\n  const SettingsSection({\n    super.key,\n    required this.title,\n    required this.children,\n  });\n  final String title;\n  final List<Widget> children;\n\n  @override\n  Widget build(BuildContext context) {\n    final theme = Theme.of(context);\n    return Column(\n      crossAxisAlignment: CrossAxisAlignment.start,\n      children: [\n        Padding(\n          padding: const EdgeInsets.symmetric(horizontal: 16, vertical: 8),\n          child: Text(\n            title,\n            style: theme.textTheme.titleSmall?.copyWith(\n              color: theme.colorScheme.primary,\n              fontWeight: FontWeight.w600,\n            ),\n          ),\n        ),\n        Card(\n          margin: const EdgeInsets.symmetric(horizontal: 16),\n          child: Column(children: children),\n        ),\n      ],\n    );\n  }\n}\n```\n\n**3. SettingsTile Widget Pattern:**\n```dart\nclass SettingsTile extends StatelessWidget {\n  const SettingsTile({\n    super.key,\n    required this.title,\n    this.subtitle,\n    this.leading,\n    this.trailing,\n    this.onTap,\n  });\n  final String title;\n  final String? subtitle;\n  final Widget? leading;\n  final Widget? trailing;\n  final VoidCallback? onTap;\n\n  @override\n  Widget build(BuildContext context) {\n    return ListTile(\n      leading: leading,\n      title: Text(title),\n      subtitle: subtitle != null ? Text(subtitle!) : null,\n      trailing: trailing,\n      onTap: onTap,\n    );\n  }\n}\n```\n\n**4. Router Pattern (from app_router.dart lines 229-234):**\nReplace the placeholder Settings route with:\n```dart\nGoRoute(\n  path: RouteNames.settings,\n  name: 'settings',\n  builder: (context, state) => BlocProvider(\n    create: (_) => sl<SettingsBloc>()..add(const SettingsLoadRequested()),\n    child: const SettingsPage(),\n  ),\n),\n```\n\n**5. Notifications Section UI:**\n```dart\nSettingsSection(\n  title: 'Notifications',\n  children: [\n    SettingsTile(\n      title: 'Enable Notifications',\n      leading: const Icon(Icons.notifications_outlined),\n      trailing: Switch(\n        value: settings.notificationsEnabled,\n        onChanged: (value) => _updateSettings(\n          context,\n          settings.copyWith(notificationsEnabled: value),\n        ),\n      ),\n    ),\n    SettingsTile(\n      title: 'Daily Reminder',\n      subtitle: settings.dailyGoalReminder != null\n          ? '${settings.dailyGoalReminder!.hour}:${settings.dailyGoalReminder!.minute.toString().padLeft(2, '0')}'\n          : 'Not set',\n      leading: const Icon(Icons.access_time),\n      onTap: () => _showTimePicker(context, settings),\n    ),\n  ],\n)\n```\n\n**6. Appearance Section UI (Theme):**\n```dart\nSettingsSection(\n  title: 'Appearance',\n  children: [\n    SettingsTile(\n      title: 'Theme',\n      subtitle: settings.themePreference.name.capitalize(),\n      leading: const Icon(Icons.palette_outlined),\n      onTap: () => _showThemeDialog(context, settings),\n    ),\n  ],\n)\n```\n\n**7. Account Section UI:**\n```dart\nSettingsSection(\n  title: 'Account',\n  children: [\n    SettingsTile(\n      title: 'Logout',\n      leading: const Icon(Icons.logout),\n      onTap: () => _showLogoutDialog(context),\n    ),\n    SettingsTile(\n      title: 'Delete Account',\n      leading: Icon(Icons.delete_forever, color: theme.colorScheme.error),\n      onTap: () => _showDeleteAccountDialog(context),\n    ),\n  ],\n)\n```\n\n**8. Confirmation Dialog Pattern:**\n```dart\nFuture<void> _showDeleteAccountDialog(BuildContext context) async {\n  final confirmed = await showDialog<bool>(\n    context: context,\n    builder: (context) => AlertDialog(\n      title: const Text('Delete Account'),\n      content: const Text('Are you sure you want to delete your account? This action cannot be undone.'),\n      actions: [\n        TextButton(\n          onPressed: () => Navigator.of(context).pop(false),\n          child: const Text('Cancel'),\n        ),\n        FilledButton(\n          style: FilledButton.styleFrom(\n            backgroundColor: Theme.of(context).colorScheme.error,\n          ),\n          onPressed: () => Navigator.of(context).pop(true),\n          child: const Text('Delete'),\n        ),\n      ],\n    ),\n  );\n  if (confirmed == true && context.mounted) {\n    context.read<SettingsBloc>().add(const SettingsDeleteAccountRequested());\n  }\n}\n```\n\n**9. Theme Selection Dialog:**\n```dart\nFuture<void> _showThemeDialog(BuildContext context, UserSettings settings) async {\n  final selected = await showDialog<ThemePreference>(\n    context: context,\n    builder: (context) => SimpleDialog(\n      title: const Text('Select Theme'),\n      children: ThemePreference.values.map((theme) => SimpleDialogOption(\n        onPressed: () => Navigator.of(context).pop(theme),\n        child: Row(\n          children: [\n            Radio<ThemePreference>(\n              value: theme,\n              groupValue: settings.themePreference,\n              onChanged: (value) => Navigator.of(context).pop(value),\n            ),\n            Text(theme.name.capitalize()),\n          ],\n        ),\n      )).toList(),\n    ),\n  );\n  if (selected != null && context.mounted) {\n    _updateSettings(context, settings.copyWith(themePreference: selected));\n  }\n}\n```\n\n‚ö†Ô∏è **ANTI-PATTERNS TO AVOID:**\n- Using `Scaffold` directly instead of `AppScaffold` ‚Üê WRONG\n- Placeholder text like \"Coming Soon\" ‚Üê FORBIDDEN\n- Buttons without `onPressed`/`onTap` handlers ‚Üê WRONG\n- Switch without `onChanged` handler ‚Üê WRONG\n- Not using `BlocConsumer` for state listening + building ‚Üê WRONG\n- Using `context.read<SettingsBloc>()` without checking `context.mounted` after async ‚Üê WRONG\n- Forgetting to import SettingsBloc in app_router.dart ‚Üê WRONG\n- Missing `library;` directive at top of file ‚Üê WRONG\n\nüì¶ **REQUIRED IMPORTS IN app_router.dart:**\n```dart\nimport 'package:app_pasos_frontend/features/settings/presentation/bloc/settings_bloc.dart';\nimport 'package:app_pasos_frontend/features/settings/presentation/bloc/settings_event.dart';\nimport 'package:app_pasos_frontend/features/settings/presentation/pages/settings_page.dart';\n```\n\nüéØ **FUNCTIONAL REQUIREMENTS:**\n1. Notifications section with enable/disable toggle that calls SettingsUpdateRequested\n2. Daily reminder time picker using showTimePicker that persists via SettingsBloc\n3. Theme selection (light/dark/system) with radio dialog\n4. Account section with Logout button showing confirmation dialog then dispatching SettingsLogoutRequested\n5. Delete account option showing confirmation dialog with red 'Delete' button, then dispatching SettingsDeleteAccountRequested\n6. Changes persist immediately via SettingsBloc (no save button needed)\n7. Router updated to wrap SettingsPage with BlocProvider and dispatch SettingsLoadRequested\n\nüß™ **VERIFICATION:**\n```bash\nflutter analyze lib/features/settings/presentation/\nflutter analyze lib/core/router/app_router.dart\nflutter test\n```",
        "epicId": "epic-frontend-settings",
        "priority": 2,
        "estimatedComplexity": "moderate",
        "dependencies": [
          "epic-frontend-settings-story-1"
        ],
        "status": "pending",
        "filesToRead": [
          "lib/features/profile/presentation/pages/profile_page.dart",
          "lib/shared/widgets/app_scaffold.dart",
          "lib/shared/widgets/loading_indicator.dart",
          "lib/core/router/app_router.dart",
          "lib/core/router/route_names.dart",
          "lib/core/theme/app_theme.dart",
          "lib/features/settings/presentation/bloc/settings_bloc.dart",
          "lib/features/settings/presentation/bloc/settings_event.dart",
          "lib/features/settings/presentation/bloc/settings_state.dart",
          "lib/features/settings/domain/entities/user_settings.dart"
        ],
        "filesToModify": [
          "lib/core/router/app_router.dart"
        ],
        "filesToCreate": [
          "lib/features/settings/presentation/pages/settings_page.dart",
          "lib/features/settings/presentation/widgets/settings_section.dart",
          "lib/features/settings/presentation/widgets/settings_tile.dart"
        ],
        "acceptanceCriteria": [
          "Given the SettingsPage is rendered, When I view the page, Then I see three sections: Notifications, Appearance, and Account",
          "Given Notifications section is visible, When I toggle the 'Enable Notifications' switch, Then SettingsUpdateRequested is dispatched with updated notificationsEnabled value",
          "Given Notifications section is visible, When I tap 'Daily Reminder', Then a time picker dialog appears and selecting a time updates settings",
          "Given Appearance section is visible, When I tap 'Theme', Then a dialog shows Light/Dark/System options and selecting one updates settings",
          "Given Account section is visible, When I tap 'Logout', Then a confirmation dialog appears with Cancel and Logout buttons",
          "Given Account section is visible, When I tap 'Delete Account', Then a confirmation dialog with red Delete button appears and confirming dispatches SettingsDeleteAccountRequested",
          "Given the router is configured, When I navigate to /settings, Then SettingsPage is shown with BlocProvider and SettingsLoadRequested is dispatched"
        ]
      }
    ]
  }
}